version: '3.9'

services:
  peerjs:
    image: peerjs/peerjs-server:latest
    container_name: xuantuotuo-peerjs
    restart: unless-stopped
    command: >
      peerjs
      --port 9809
      --path /peerjs
      --key peerjs
      --allow_discovery true
    ports:
      - "9809:9809"
    environment:
      # 当你启用反向代理并终结 TLS 时，需要告诉 PeerJS 接受被代理后的 X-Forwarded-* 头
      - PROXIED=true
